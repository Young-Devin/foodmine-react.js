{"ast":null,"code":"import React,{useEffect,useReducer}from'react';import classes from'./ordersPage.module.css';import{Link,useParams}from'react-router-dom';import{getAll,getAllStatus}from'../../services/orderService';import Title from'../../components/Title/Title';import DateTime from'../../components/DateTime/DateTime';import Price from'../../components/Price/Price';import NotFound from'../../components/NotFound/NotFound';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const initialState={};const reducer=(state,action)=>{const{type,payload}=action;switch(type){case'ALL_STATUS_FETCHED':return{...state,allStatus:payload};case'ORDERS_FETCHED':return{...state,orders:payload};default:return state;}};export default function OrdersPage(){const[{allStatus,orders},dispatch]=useReducer(reducer,initialState);const{filter}=useParams();useEffect(()=>{getAllStatus().then(status=>{dispatch({type:'ALL_STATUS_FETCHED',payload:status});});getAll(filter).then(orders=>{dispatch({type:\"ORDERS_FETCHED\",payload:orders});});},[filter]);return/*#__PURE__*/_jsxs(\"div\",{className:classes.container,children:[/*#__PURE__*/_jsx(Title,{title:\"Orders\",margin:\"1.5rem 0 0 .2rem\",fontSize:\"1.9rem\"}),allStatus&&/*#__PURE__*/_jsxs(\"div\",{className:classes.all_status,children:[/*#__PURE__*/_jsx(Link,{to:\"/orders\",className:!filter?classes.selected:'',children:\"All\"}),allStatus.map(state=>/*#__PURE__*/_jsx(Link,{className:state===filter?classes.selected:'',to:\"/orders/\".concat(state),children:state},state))]}),(orders===null||orders===void 0?void 0:orders.length)===0&&/*#__PURE__*/_jsx(NotFound,{linkRoute:filter?'/orders':'/',linkText:filter?'Show All':'Go To Home Page'}),orders&&orders.map(order=>/*#__PURE__*/_jsxs(\"div\",{className:classes.order_summary,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.header,children:[/*#__PURE__*/_jsx(\"span\",{children:order.id}),/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(DateTime,{date:order.createdAt})}),/*#__PURE__*/_jsx(\"span\",{children:order.status})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.items,children:order.items.map(item=>/*#__PURE__*/_jsx(Link,{to:\"/food/\".concat(item.food.id),children:/*#__PURE__*/_jsx(\"img\",{src:item.food.imageUrl,alt:item.food.name})},item.food.id))}),/*#__PURE__*/_jsxs(\"div\",{className:classes.footer,children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Link,{to:\"/track/\".concat(order.id),children:\" Show Order\"})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{className:classes.price,children:/*#__PURE__*/_jsx(Price,{price:order.totalPrice})})})]})]},order.id))]});}","map":{"version":3,"names":["React","useEffect","useReducer","classes","Link","useParams","getAll","getAllStatus","Title","DateTime","Price","NotFound","jsx","_jsx","jsxs","_jsxs","initialState","reducer","state","action","type","payload","allStatus","orders","OrdersPage","dispatch","filter","then","status","className","container","children","title","margin","fontSize","all_status","to","selected","map","concat","length","linkRoute","linkText","order","order_summary","header","id","date","createdAt","items","item","food","src","imageUrl","alt","name","footer","price","totalPrice"],"sources":["C:/Users/Devin Young/Desktop/foodmine-react.js/frontend/src/pages/Orders/OrdersPage.js"],"sourcesContent":["import React, { useEffect, useReducer } from 'react';\r\nimport classes from './ordersPage.module.css';\r\nimport { Link, useParams } from 'react-router-dom';\r\nimport { getAll, getAllStatus } from '../../services/orderService';\r\nimport Title from '../../components/Title/Title';\r\nimport DateTime from '../../components/DateTime/DateTime';\r\nimport Price from '../../components/Price/Price';\r\nimport NotFound from '../../components/NotFound/NotFound';\r\n\r\nconst initialState = {};\r\nconst reducer = (state, action) => {\r\n    const { type, payload } = action;\r\n    switch (type){\r\n        case 'ALL_STATUS_FETCHED':\r\n            return { ...state, allStatus: payload };\r\n        case 'ORDERS_FETCHED':\r\n            return { ...state, orders: payload };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default function OrdersPage() {\r\n    const [{ allStatus, orders }, dispatch] = useReducer(reducer, initialState);\r\n\r\n    const { filter } = useParams();\r\n\r\n    useEffect(() => {\r\n        getAllStatus().then(status => {\r\n            dispatch({ type: 'ALL_STATUS_FETCHED', payload: status});\r\n        })\r\n        getAll(filter).then(orders => {\r\n            dispatch({type: \"ORDERS_FETCHED\", payload: orders});\r\n        });\r\n    }, [filter]);\r\n    \r\n    return (\r\n        <div className={classes.container}>\r\n            <Title title=\"Orders\" margin=\"1.5rem 0 0 .2rem\" fontSize=\"1.9rem\" />\r\n\r\n            {allStatus && (\r\n                <div className={classes.all_status}>\r\n                    <Link to=\"/orders\" className={!filter ? classes.selected : ''}>\r\n                        All\r\n                    </Link>\r\n                    {allStatus.map(state => (\r\n                        <Link\r\n                            key={state}\r\n                            className={state === filter ? classes.selected : ''}\r\n                            to={`/orders/${state}`}\r\n                        >\r\n                            {state}\r\n                        </Link>\r\n                    ))}\r\n                </div>\r\n            )}\r\n\r\n            {orders?.length === 0 && (\r\n                <NotFound\r\n                linkRoute={ filter ? '/orders' : '/'}\r\n                linkText={ filter ? 'Show All' : 'Go To Home Page'}\r\n                />\r\n            )}\r\n\r\n            {orders &&\r\n            orders.map(order => (\r\n                <div key={order.id} className={classes.order_summary}>\r\n                    <div className={classes.header}>\r\n                        <span>{order.id}</span>\r\n                        <span>\r\n                            <DateTime date={order.createdAt} />\r\n                        </span>\r\n                        <span>\r\n                            {order.status}\r\n                        </span>\r\n                    </div>\r\n                    <div className={classes.items}>\r\n                        {order.items.map(item => \r\n                            <Link key={item.food.id} to={`/food/${item.food.id}`}>\r\n                                <img src={item.food.imageUrl} alt={item.food.name} />\r\n                            </Link>\r\n                        )}\r\n                    </div>\r\n                    <div className={classes.footer}>\r\n                        <div>\r\n                            <Link to={`/track/${order.id}`}> Show Order</Link>\r\n                        </div>\r\n                        <div>\r\n                            <span className={classes.price}>\r\n                                <Price price={order.totalPrice} />\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}