{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Devin Young\\\\Desktop\\\\foodmine-react.js\\\\frontend\\\\src\\\\components\\\\PayPalButtons\\\\PayPalButtons.js\",\n  _s = $RefreshSig$();\nimport { PayPalScriptProvider, usePayPalScriptReducer } from '@paypal/react-paypal-js';\nimport React, { useEffect } from 'react';\nimport { useLoading } from '../../hooks/useLoading';\nimport { pay } from '../../services/orderService';\nimport { useCart } from '../../hooks/useCart';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function PayPalButtons({\n  order\n}) {\n  return /*#__PURE__*/_jsxDEV(PayPalScriptProvider, {\n    options: {\n      clientId: 'Aa_DY9XDQ4r8MQUuM7M0nQOID-ISGodlDNG8qqC4cqMoUz8HQTwCsw1DNiF-vohTLsH34T4ewRKa8e41'\n    },\n    children: /*#__PURE__*/_jsxDEV(Buttons, {\n      order: order\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 14,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 10,\n    columnNumber: 5\n  }, this);\n}\n_c = PayPalButtons;\nfunction Buttons({\n  order\n}) {\n  _s();\n  const {\n    clearCart\n  } = useCart();\n  const [{\n    isPending\n  }] = usePayPalScriptReducer();\n  const {\n    showLoading,\n    hideLoading\n  } = useLoading();\n  useEffect(() => {\n    isPending ? showLoading() : hideLoading();\n  });\n  const createOrder = (data, actions) => {\n    return actions.order.create({\n      purchase_units: [{\n        amount: {\n          currency_code: 'USD',\n          value: order.totalPrice\n        }\n      }]\n    });\n  };\n  const onApprove = async (data, actions) => {\n    try {\n      const payment = await actions.order.capture();\n      const orderId = await pay(payment.id);\n      clearCart();\n      toast.success('Payment Saved Successfulyl', 'Success');\n    } catch (error) {}\n  };\n}\n_s(Buttons, \"Jhs9bLbHCB1dkmknSiUaq0StmfE=\", false, function () {\n  return [useCart, usePayPalScriptReducer, useLoading];\n});\n_c2 = Buttons;\nvar _c, _c2;\n$RefreshReg$(_c, \"PayPalButtons\");\n$RefreshReg$(_c2, \"Buttons\");","map":{"version":3,"names":["PayPalScriptProvider","usePayPalScriptReducer","React","useEffect","useLoading","pay","useCart","toast","jsxDEV","_jsxDEV","PayPalButtons","order","options","clientId","children","Buttons","fileName","_jsxFileName","lineNumber","columnNumber","_c","_s","clearCart","isPending","showLoading","hideLoading","createOrder","data","actions","create","purchase_units","amount","currency_code","value","totalPrice","onApprove","payment","capture","orderId","id","success","error","_c2","$RefreshReg$"],"sources":["C:/Users/Devin Young/Desktop/foodmine-react.js/frontend/src/components/PayPalButtons/PayPalButtons.js"],"sourcesContent":["import { PayPalScriptProvider, usePayPalScriptReducer } from '@paypal/react-paypal-js'\r\nimport React, { useEffect } from 'react'\r\nimport { useLoading } from '../../hooks/useLoading';\r\nimport { pay } from '../../services/orderService';\r\nimport { useCart } from '../../hooks/useCart';\r\nimport { toast } from 'react-toastify';\r\n\r\nexport default function PayPalButtons({ order }) {\r\n  return (\r\n    <PayPalScriptProvider\r\n        options={{\r\n            clientId: 'Aa_DY9XDQ4r8MQUuM7M0nQOID-ISGodlDNG8qqC4cqMoUz8HQTwCsw1DNiF-vohTLsH34T4ewRKa8e41'\r\n        }}>\r\n            <Buttons order={order} />\r\n    </PayPalScriptProvider>\r\n  )\r\n}\r\n\r\nfunction Buttons({order}){\r\n    const { clearCart } = useCart();\r\n    const [{ isPending }] = usePayPalScriptReducer();\r\n    const { showLoading, hideLoading } = useLoading();\r\n    useEffect(() => {\r\n        isPending? showLoading() : hideLoading();\r\n    })\r\n\r\n    const createOrder = (data, actions) => {\r\n        return actions.order.create({\r\n            purchase_units: [\r\n                {\r\n                    amount: {\r\n                        currency_code: 'USD',\r\n                        value: order.totalPrice,\r\n                    },\r\n                },\r\n            ]\r\n        })\r\n    }\r\n\r\n    const onApprove = async (data, actions) => {\r\n        try {\r\n            const payment = await actions.order.capture();\r\n            const orderId = await pay(payment.id);\r\n            clearCart();\r\n            toast.success('Payment Saved Successfulyl', 'Success');\r\n        } catch (error) {\r\n\r\n        }\r\n    }\r\n}\r\n"],"mappings":";;AAAA,SAASA,oBAAoB,EAAEC,sBAAsB,QAAQ,yBAAyB;AACtF,OAAOC,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,SAASC,UAAU,QAAQ,wBAAwB;AACnD,SAASC,GAAG,QAAQ,6BAA6B;AACjD,SAASC,OAAO,QAAQ,qBAAqB;AAC7C,SAASC,KAAK,QAAQ,gBAAgB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEvC,eAAe,SAASC,aAAaA,CAAC;EAAEC;AAAM,CAAC,EAAE;EAC/C,oBACEF,OAAA,CAACT,oBAAoB;IACjBY,OAAO,EAAE;MACLC,QAAQ,EAAE;IACd,CAAE;IAAAC,QAAA,eACEL,OAAA,CAACM,OAAO;MAACJ,KAAK,EAAEA;IAAM;MAAAK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACX,CAAC;AAE3B;AAACC,EAAA,GATuBV,aAAa;AAWrC,SAASK,OAAOA,CAAC;EAACJ;AAAK,CAAC,EAAC;EAAAU,EAAA;EACrB,MAAM;IAAEC;EAAU,CAAC,GAAGhB,OAAO,CAAC,CAAC;EAC/B,MAAM,CAAC;IAAEiB;EAAU,CAAC,CAAC,GAAGtB,sBAAsB,CAAC,CAAC;EAChD,MAAM;IAAEuB,WAAW;IAAEC;EAAY,CAAC,GAAGrB,UAAU,CAAC,CAAC;EACjDD,SAAS,CAAC,MAAM;IACZoB,SAAS,GAAEC,WAAW,CAAC,CAAC,GAAGC,WAAW,CAAC,CAAC;EAC5C,CAAC,CAAC;EAEF,MAAMC,WAAW,GAAGA,CAACC,IAAI,EAAEC,OAAO,KAAK;IACnC,OAAOA,OAAO,CAACjB,KAAK,CAACkB,MAAM,CAAC;MACxBC,cAAc,EAAE,CACZ;QACIC,MAAM,EAAE;UACJC,aAAa,EAAE,KAAK;UACpBC,KAAK,EAAEtB,KAAK,CAACuB;QACjB;MACJ,CAAC;IAET,CAAC,CAAC;EACN,CAAC;EAED,MAAMC,SAAS,GAAG,MAAAA,CAAOR,IAAI,EAAEC,OAAO,KAAK;IACvC,IAAI;MACA,MAAMQ,OAAO,GAAG,MAAMR,OAAO,CAACjB,KAAK,CAAC0B,OAAO,CAAC,CAAC;MAC7C,MAAMC,OAAO,GAAG,MAAMjC,GAAG,CAAC+B,OAAO,CAACG,EAAE,CAAC;MACrCjB,SAAS,CAAC,CAAC;MACXf,KAAK,CAACiC,OAAO,CAAC,4BAA4B,EAAE,SAAS,CAAC;IAC1D,CAAC,CAAC,OAAOC,KAAK,EAAE,CAEhB;EACJ,CAAC;AACL;AAACpB,EAAA,CA/BQN,OAAO;EAAA,QACUT,OAAO,EACLL,sBAAsB,EACTG,UAAU;AAAA;AAAAsC,GAAA,GAH1C3B,OAAO;AAAA,IAAAK,EAAA,EAAAsB,GAAA;AAAAC,YAAA,CAAAvB,EAAA;AAAAuB,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}